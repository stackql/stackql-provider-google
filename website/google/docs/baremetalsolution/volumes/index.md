--- 
title: volumes
hide_title: false
hide_table_of_contents: false
keywords:
  - volumes
  - baremetalsolution
  - google
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage google resources using SQL
custom_edit_url: null
image: /img/stackql-google-provider-featured-image.png
---

import CopyableCode from '@site/src/components/CopyableCode/CopyableCode';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Creates, updates, deletes, gets or lists a <code>volumes</code> resource.

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>volumes</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><CopyableCode code="google.baremetalsolution.volumes" /></td></tr>
</tbody></table>

## Fields

The following fields are returned by `SELECT` queries:

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="get">

A storage volume.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><CopyableCode code="id" /></td>
    <td><code>string</code></td>
    <td>An identifier for the `Volume`, generated by the backend.</td>
</tr>
<tr>
    <td><CopyableCode code="name" /></td>
    <td><code>string</code></td>
    <td>Output only. The resource name of this `Volume`. Resource names are schemeless URIs that follow the conventions in https://cloud.google.com/apis/design/resource_names. Format: `projects/&#123;project&#125;/locations/&#123;location&#125;/volumes/&#123;volume&#125;`</td>
</tr>
<tr>
    <td><CopyableCode code="attached" /></td>
    <td><code>boolean</code></td>
    <td>Output only. Is the Volume attached at at least one instance. This field is a lightweight counterpart of `instances` field. It is filled in List responses as well.</td>
</tr>
<tr>
    <td><CopyableCode code="autoGrownSizeGib" /></td>
    <td><code>string (int64)</code></td>
    <td>The size, in GiB, that this storage volume has expanded as a result of an auto grow policy. In the absence of auto-grow, the value is 0.</td>
</tr>
<tr>
    <td><CopyableCode code="bootVolume" /></td>
    <td><code>boolean</code></td>
    <td>Output only. Whether this volume is a boot volume. A boot volume is one which contains a boot LUN.</td>
</tr>
<tr>
    <td><CopyableCode code="currentSizeGib" /></td>
    <td><code>string (int64)</code></td>
    <td>The current size of this storage volume, in GiB, including space reserved for snapshots. This size might be different than the requested size if the storage volume has been configured with auto grow or auto shrink.</td>
</tr>
<tr>
    <td><CopyableCode code="emergencySizeGib" /></td>
    <td><code>string (int64)</code></td>
    <td>Additional emergency size that was requested for this Volume, in GiB. current_size_gib includes this value.</td>
</tr>
<tr>
    <td><CopyableCode code="expireTime" /></td>
    <td><code>string (google-datetime)</code></td>
    <td>Output only. Time after which volume will be fully deleted. It is filled only for volumes in COOLOFF state.</td>
</tr>
<tr>
    <td><CopyableCode code="instances" /></td>
    <td><code>array</code></td>
    <td>Output only. Instances this Volume is attached to. This field is set only in Get requests.</td>
</tr>
<tr>
    <td><CopyableCode code="labels" /></td>
    <td><code>object</code></td>
    <td>Labels as key value pairs.</td>
</tr>
<tr>
    <td><CopyableCode code="maxSizeGib" /></td>
    <td><code>string (int64)</code></td>
    <td>Maximum size volume can be expanded to in case of evergency, in GiB.</td>
</tr>
<tr>
    <td><CopyableCode code="notes" /></td>
    <td><code>string</code></td>
    <td>Input only. User-specified notes for new Volume. Used to provision Volumes that require manual intervention.</td>
</tr>
<tr>
    <td><CopyableCode code="originallyRequestedSizeGib" /></td>
    <td><code>string (int64)</code></td>
    <td>Originally requested size, in GiB.</td>
</tr>
<tr>
    <td><CopyableCode code="performanceTier" /></td>
    <td><code>string</code></td>
    <td>Immutable. Performance tier of the Volume. Default is SHARED.</td>
</tr>
<tr>
    <td><CopyableCode code="pod" /></td>
    <td><code>string</code></td>
    <td>Immutable. Pod name. Pod is an independent part of infrastructure. Volume can only be connected to the instances allocated in the same pod.</td>
</tr>
<tr>
    <td><CopyableCode code="protocol" /></td>
    <td><code>string</code></td>
    <td>Output only. Storage protocol for the Volume.</td>
</tr>
<tr>
    <td><CopyableCode code="remainingSpaceGib" /></td>
    <td><code>string (int64)</code></td>
    <td>The space remaining in the storage volume for new LUNs, in GiB, excluding space reserved for snapshots.</td>
</tr>
<tr>
    <td><CopyableCode code="requestedSizeGib" /></td>
    <td><code>string (int64)</code></td>
    <td>The requested size of this storage volume, in GiB.</td>
</tr>
<tr>
    <td><CopyableCode code="snapshotAutoDeleteBehavior" /></td>
    <td><code>string</code></td>
    <td>The behavior to use when snapshot reserved space is full.</td>
</tr>
<tr>
    <td><CopyableCode code="snapshotEnabled" /></td>
    <td><code>boolean</code></td>
    <td>Whether snapshots are enabled.</td>
</tr>
<tr>
    <td><CopyableCode code="snapshotReservationDetail" /></td>
    <td><code>object</code></td>
    <td>Details about snapshot space reservation and usage on the storage volume. (id: SnapshotReservationDetail)</td>
</tr>
<tr>
    <td><CopyableCode code="state" /></td>
    <td><code>string</code></td>
    <td>The state of this storage volume.</td>
</tr>
<tr>
    <td><CopyableCode code="storageType" /></td>
    <td><code>string</code></td>
    <td>The storage type for this volume.</td>
</tr>
<tr>
    <td><CopyableCode code="workloadProfile" /></td>
    <td><code>string</code></td>
    <td>The workload profile for the volume.</td>
</tr>
</tbody>
</table>
</TabItem>
<TabItem value="list">

Response message containing the list of storage volumes.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><CopyableCode code="nextPageToken" /></td>
    <td><code>string</code></td>
    <td>A token identifying a page of results from the server.</td>
</tr>
<tr>
    <td><CopyableCode code="unreachable" /></td>
    <td><code>array</code></td>
    <td>Locations that could not be reached.</td>
</tr>
<tr>
    <td><CopyableCode code="volumes" /></td>
    <td><code>array</code></td>
    <td>The list of storage volumes.</td>
</tr>
</tbody>
</table>
</TabItem>
</Tabs>

## Methods

The following methods are available for this resource:

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Accessible by</th>
    <th>Required Params</th>
    <th>Optional Params</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><a href="#get"><CopyableCode code="get" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-volumesId"><code>volumesId</code></a></td>
    <td></td>
    <td>Get details of a single storage volume.</td>
</tr>
<tr>
    <td><a href="#list"><CopyableCode code="list" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a></td>
    <td><a href="#parameter-pageSize"><code>pageSize</code></a>, <a href="#parameter-pageToken"><code>pageToken</code></a>, <a href="#parameter-filter"><code>filter</code></a></td>
    <td>List storage volumes in a given project and location.</td>
</tr>
<tr>
    <td><a href="#patch"><CopyableCode code="patch" /></a></td>
    <td><CopyableCode code="update" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-volumesId"><code>volumesId</code></a></td>
    <td><a href="#parameter-updateMask"><code>updateMask</code></a></td>
    <td>Update details of a single storage volume.</td>
</tr>
<tr>
    <td><a href="#rename"><CopyableCode code="rename" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-volumesId"><code>volumesId</code></a></td>
    <td></td>
    <td>RenameVolume sets a new name for a volume. Use with caution, previous names become immediately invalidated.</td>
</tr>
<tr>
    <td><a href="#evict"><CopyableCode code="evict" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-volumesId"><code>volumesId</code></a></td>
    <td></td>
    <td>Skips volume's cooloff and deletes it now. Volume must be in cooloff state.</td>
</tr>
<tr>
    <td><a href="#resize"><CopyableCode code="resize" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-volumesId"><code>volumesId</code></a></td>
    <td></td>
    <td>Emergency Volume resize.</td>
</tr>
</tbody>
</table>

## Parameters

Parameters can be passed in the `WHERE` clause of a query. Check the [Methods](#methods) section to see which parameters are required or optional for each operation.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr id="parameter-locationsId">
    <td><CopyableCode code="locationsId" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-projectsId">
    <td><CopyableCode code="projectsId" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-volumesId">
    <td><CopyableCode code="volumesId" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-filter">
    <td><CopyableCode code="filter" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-pageSize">
    <td><CopyableCode code="pageSize" /></td>
    <td><code>integer (int32)</code></td>
    <td></td>
</tr>
<tr id="parameter-pageToken">
    <td><CopyableCode code="pageToken" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-updateMask">
    <td><CopyableCode code="updateMask" /></td>
    <td><code>string (google-fieldmask)</code></td>
    <td></td>
</tr>
</tbody>
</table>

## `SELECT` examples

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="get">

Get details of a single storage volume.

```sql
SELECT
id,
name,
attached,
autoGrownSizeGib,
bootVolume,
currentSizeGib,
emergencySizeGib,
expireTime,
instances,
labels,
maxSizeGib,
notes,
originallyRequestedSizeGib,
performanceTier,
pod,
protocol,
remainingSpaceGib,
requestedSizeGib,
snapshotAutoDeleteBehavior,
snapshotEnabled,
snapshotReservationDetail,
state,
storageType,
workloadProfile
FROM google.baremetalsolution.volumes
WHERE projectsId = '{{ projectsId }}' -- required
AND locationsId = '{{ locationsId }}' -- required
AND volumesId = '{{ volumesId }}' -- required;
```
</TabItem>
<TabItem value="list">

List storage volumes in a given project and location.

```sql
SELECT
nextPageToken,
unreachable,
volumes
FROM google.baremetalsolution.volumes
WHERE projectsId = '{{ projectsId }}' -- required
AND locationsId = '{{ locationsId }}' -- required
AND pageSize = '{{ pageSize }}'
AND pageToken = '{{ pageToken }}'
AND filter = '{{ filter }}';
```
</TabItem>
</Tabs>


## `UPDATE` examples

<Tabs
    defaultValue="patch"
    values={[
        { label: 'patch', value: 'patch' }
    ]}
>
<TabItem value="patch">

Update details of a single storage volume.

```sql
UPDATE google.baremetalsolution.volumes
SET 
data__id = '{{ id }}',
data__storageType = '{{ storageType }}',
data__state = '{{ state }}',
data__requestedSizeGib = '{{ requestedSizeGib }}',
data__originallyRequestedSizeGib = '{{ originallyRequestedSizeGib }}',
data__currentSizeGib = '{{ currentSizeGib }}',
data__emergencySizeGib = '{{ emergencySizeGib }}',
data__maxSizeGib = '{{ maxSizeGib }}',
data__autoGrownSizeGib = '{{ autoGrownSizeGib }}',
data__remainingSpaceGib = '{{ remainingSpaceGib }}',
data__snapshotReservationDetail = '{{ snapshotReservationDetail }}',
data__snapshotAutoDeleteBehavior = '{{ snapshotAutoDeleteBehavior }}',
data__labels = '{{ labels }}',
data__snapshotEnabled = {{ snapshotEnabled }},
data__pod = '{{ pod }}',
data__performanceTier = '{{ performanceTier }}',
data__notes = '{{ notes }}',
data__workloadProfile = '{{ workloadProfile }}'
WHERE 
projectsId = '{{ projectsId }}' --required
AND locationsId = '{{ locationsId }}' --required
AND volumesId = '{{ volumesId }}' --required
AND updateMask = '{{ updateMask}}'
RETURNING
name,
done,
error,
metadata,
response;
```
</TabItem>
</Tabs>


## Lifecycle Methods

<Tabs
    defaultValue="rename"
    values={[
        { label: 'rename', value: 'rename' },
        { label: 'evict', value: 'evict' },
        { label: 'resize', value: 'resize' }
    ]}
>
<TabItem value="rename">

RenameVolume sets a new name for a volume. Use with caution, previous names become immediately invalidated.

```sql
EXEC google.baremetalsolution.volumes.rename 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@volumesId='{{ volumesId }}' --required 
@@json=
'{
"newVolumeId": "{{ newVolumeId }}"
}';
```
</TabItem>
<TabItem value="evict">

Skips volume's cooloff and deletes it now. Volume must be in cooloff state.

```sql
EXEC google.baremetalsolution.volumes.evict 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@volumesId='{{ volumesId }}' --required;
```
</TabItem>
<TabItem value="resize">

Emergency Volume resize.

```sql
EXEC google.baremetalsolution.volumes.resize 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@volumesId='{{ volumesId }}' --required 
@@json=
'{
"sizeGib": "{{ sizeGib }}"
}';
```
</TabItem>
</Tabs>
