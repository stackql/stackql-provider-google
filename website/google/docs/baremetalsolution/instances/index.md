--- 
title: instances
hide_title: false
hide_table_of_contents: false
keywords:
  - instances
  - baremetalsolution
  - google
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage google resources using SQL
custom_edit_url: null
image: /img/stackql-google-provider-featured-image.png
---

import CopyableCode from '@site/src/components/CopyableCode/CopyableCode';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Creates, updates, deletes, gets or lists an <code>instances</code> resource.

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>instances</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><CopyableCode code="google.baremetalsolution.instances" /></td></tr>
</tbody></table>

## Fields

The following fields are returned by `SELECT` queries:

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="get">

A server.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><CopyableCode code="id" /></td>
    <td><code>string</code></td>
    <td>Output only. An identifier for the `Instance`, generated by the backend.</td>
</tr>
<tr>
    <td><CopyableCode code="name" /></td>
    <td><code>string</code></td>
    <td>Immutable. The resource name of this `Instance`. Resource names are schemeless URIs that follow the conventions in https://cloud.google.com/apis/design/resource_names. Format: `projects/&#123;project&#125;/locations/&#123;location&#125;/instances/&#123;instance&#125;`</td>
</tr>
<tr>
    <td><CopyableCode code="createTime" /></td>
    <td><code>string (google-datetime)</code></td>
    <td>Output only. Create a time stamp.</td>
</tr>
<tr>
    <td><CopyableCode code="firmwareVersion" /></td>
    <td><code>string</code></td>
    <td>Output only. The firmware version for the instance.</td>
</tr>
<tr>
    <td><CopyableCode code="hyperthreadingEnabled" /></td>
    <td><code>boolean</code></td>
    <td>True if you enable hyperthreading for the server, otherwise false. The default value is false.</td>
</tr>
<tr>
    <td><CopyableCode code="interactiveSerialConsoleEnabled" /></td>
    <td><code>boolean</code></td>
    <td>Output only. True if the interactive serial console feature is enabled for the instance, false otherwise. The default value is false.</td>
</tr>
<tr>
    <td><CopyableCode code="kmsKeyVersion" /></td>
    <td><code>string</code></td>
    <td>Optional. Name of the KMS crypto key version used to encrypt the initial passwords. The key has to have ASYMMETRIC_DECRYPT purpose. Format is `projects/&#123;project&#125;/locations/&#123;location&#125;/keyRings/&#123;keyring&#125;/cryptoKeys/&#123;key&#125;/cryptoKeyVersions/&#123;version&#125;`.</td>
</tr>
<tr>
    <td><CopyableCode code="labels" /></td>
    <td><code>object</code></td>
    <td>Labels as key value pairs.</td>
</tr>
<tr>
    <td><CopyableCode code="logicalInterfaces" /></td>
    <td><code>array</code></td>
    <td>List of logical interfaces for the instance. The number of logical interfaces will be the same as number of hardware bond/nic on the chosen network template. For the non-multivlan configurations (for eg, existing servers) that use existing default network template (bondaa-bondaa), both the Instance.networks field and the Instance.logical_interfaces fields will be filled to ensure backward compatibility. For the others, only Instance.logical_interfaces will be filled.</td>
</tr>
<tr>
    <td><CopyableCode code="loginInfo" /></td>
    <td><code>string</code></td>
    <td>Output only. Text field about info for logging in.</td>
</tr>
<tr>
    <td><CopyableCode code="luns" /></td>
    <td><code>array</code></td>
    <td>Immutable. List of LUNs associated with this server.</td>
</tr>
<tr>
    <td><CopyableCode code="machineType" /></td>
    <td><code>string</code></td>
    <td>Immutable. The server type. [Available server types](https://cloud.google.com/bare-metal/docs/bms-planning#server_configurations)</td>
</tr>
<tr>
    <td><CopyableCode code="networkTemplate" /></td>
    <td><code>string</code></td>
    <td>Instance network template name. For eg, bondaa-bondaa, bondab-nic, etc. Generally, the template name follows the syntax of "bond" or "nic".</td>
</tr>
<tr>
    <td><CopyableCode code="networks" /></td>
    <td><code>array</code></td>
    <td>Output only. List of networks associated with this server.</td>
</tr>
<tr>
    <td><CopyableCode code="osImage" /></td>
    <td><code>string</code></td>
    <td>The OS image currently installed on the server.</td>
</tr>
<tr>
    <td><CopyableCode code="pod" /></td>
    <td><code>string</code></td>
    <td>Immutable. Pod name. Pod is an independent part of infrastructure. Instance can only be connected to the assets (networks, volumes) allocated in the same pod.</td>
</tr>
<tr>
    <td><CopyableCode code="sshKeys" /></td>
    <td><code>array</code></td>
    <td>Optional. List of SSH Keys used during instance provisioning.</td>
</tr>
<tr>
    <td><CopyableCode code="state" /></td>
    <td><code>string</code></td>
    <td>Output only. The state of the server.</td>
</tr>
<tr>
    <td><CopyableCode code="updateTime" /></td>
    <td><code>string (google-datetime)</code></td>
    <td>Output only. Update a time stamp.</td>
</tr>
<tr>
    <td><CopyableCode code="volumes" /></td>
    <td><code>array</code></td>
    <td>Input only. List of Volumes to attach to this Instance on creation. This field won't be populated in Get/List responses.</td>
</tr>
<tr>
    <td><CopyableCode code="workloadProfile" /></td>
    <td><code>string</code></td>
    <td>The workload profile for the instance.</td>
</tr>
</tbody>
</table>
</TabItem>
<TabItem value="list">

Response message for the list of servers.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><CopyableCode code="instances" /></td>
    <td><code>array</code></td>
    <td>The list of servers.</td>
</tr>
<tr>
    <td><CopyableCode code="nextPageToken" /></td>
    <td><code>string</code></td>
    <td>A token identifying a page of results from the server.</td>
</tr>
<tr>
    <td><CopyableCode code="unreachable" /></td>
    <td><code>array</code></td>
    <td>Locations that could not be reached.</td>
</tr>
</tbody>
</table>
</TabItem>
</Tabs>

## Methods

The following methods are available for this resource:

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Accessible by</th>
    <th>Required Params</th>
    <th>Optional Params</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr>
    <td><a href="#get"><CopyableCode code="get" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Get details about a single server.</td>
</tr>
<tr>
    <td><a href="#list"><CopyableCode code="list" /></a></td>
    <td><CopyableCode code="select" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a></td>
    <td><a href="#parameter-pageSize"><code>pageSize</code></a>, <a href="#parameter-pageToken"><code>pageToken</code></a>, <a href="#parameter-filter"><code>filter</code></a></td>
    <td>List servers in a given project and location.</td>
</tr>
<tr>
    <td><a href="#patch"><CopyableCode code="patch" /></a></td>
    <td><CopyableCode code="update" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td><a href="#parameter-updateMask"><code>updateMask</code></a></td>
    <td>Update details of a single server.</td>
</tr>
<tr>
    <td><a href="#load_auth_info"><CopyableCode code="load_auth_info" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Load auth info for a server.</td>
</tr>
<tr>
    <td><a href="#reimage"><CopyableCode code="reimage" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Perform reimage operation on a single server.</td>
</tr>
<tr>
    <td><a href="#enable_hyperthreading"><CopyableCode code="enable_hyperthreading" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Perform enable hyperthreading operation on a single server.</td>
</tr>
<tr>
    <td><a href="#disable_hyperthreading"><CopyableCode code="disable_hyperthreading" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Perform disable hyperthreading operation on a single server.</td>
</tr>
<tr>
    <td><a href="#rename"><CopyableCode code="rename" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>RenameInstance sets a new name for an instance. Use with caution, previous names become immediately invalidated.</td>
</tr>
<tr>
    <td><a href="#reset"><CopyableCode code="reset" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Perform an ungraceful, hard reset on a server. Equivalent to shutting the power off and then turning it back on.</td>
</tr>
<tr>
    <td><a href="#start"><CopyableCode code="start" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Starts a server that was shutdown.</td>
</tr>
<tr>
    <td><a href="#stop"><CopyableCode code="stop" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Stop a running server.</td>
</tr>
<tr>
    <td><a href="#enable_interactive_serial_console"><CopyableCode code="enable_interactive_serial_console" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Enable the interactive serial console feature on an instance.</td>
</tr>
<tr>
    <td><a href="#disable_interactive_serial_console"><CopyableCode code="disable_interactive_serial_console" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Disable the interactive serial console feature on an instance.</td>
</tr>
<tr>
    <td><a href="#detach_lun"><CopyableCode code="detach_lun" /></a></td>
    <td><CopyableCode code="exec" /></td>
    <td><a href="#parameter-projectsId"><code>projectsId</code></a>, <a href="#parameter-locationsId"><code>locationsId</code></a>, <a href="#parameter-instancesId"><code>instancesId</code></a></td>
    <td></td>
    <td>Detach LUN from Instance.</td>
</tr>
</tbody>
</table>

## Parameters

Parameters can be passed in the `WHERE` clause of a query. Check the [Methods](#methods) section to see which parameters are required or optional for each operation.

<table>
<thead>
    <tr>
    <th>Name</th>
    <th>Datatype</th>
    <th>Description</th>
    </tr>
</thead>
<tbody>
<tr id="parameter-instancesId">
    <td><CopyableCode code="instancesId" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-locationsId">
    <td><CopyableCode code="locationsId" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-projectsId">
    <td><CopyableCode code="projectsId" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-filter">
    <td><CopyableCode code="filter" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-pageSize">
    <td><CopyableCode code="pageSize" /></td>
    <td><code>integer (int32)</code></td>
    <td></td>
</tr>
<tr id="parameter-pageToken">
    <td><CopyableCode code="pageToken" /></td>
    <td><code>string</code></td>
    <td></td>
</tr>
<tr id="parameter-updateMask">
    <td><CopyableCode code="updateMask" /></td>
    <td><code>string (google-fieldmask)</code></td>
    <td></td>
</tr>
</tbody>
</table>

## `SELECT` examples

<Tabs
    defaultValue="get"
    values={[
        { label: 'get', value: 'get' },
        { label: 'list', value: 'list' }
    ]}
>
<TabItem value="get">

Get details about a single server.

```sql
SELECT
id,
name,
createTime,
firmwareVersion,
hyperthreadingEnabled,
interactiveSerialConsoleEnabled,
kmsKeyVersion,
labels,
logicalInterfaces,
loginInfo,
luns,
machineType,
networkTemplate,
networks,
osImage,
pod,
sshKeys,
state,
updateTime,
volumes,
workloadProfile
FROM google.baremetalsolution.instances
WHERE projectsId = '{{ projectsId }}' -- required
AND locationsId = '{{ locationsId }}' -- required
AND instancesId = '{{ instancesId }}' -- required;
```
</TabItem>
<TabItem value="list">

List servers in a given project and location.

```sql
SELECT
instances,
nextPageToken,
unreachable
FROM google.baremetalsolution.instances
WHERE projectsId = '{{ projectsId }}' -- required
AND locationsId = '{{ locationsId }}' -- required
AND pageSize = '{{ pageSize }}'
AND pageToken = '{{ pageToken }}'
AND filter = '{{ filter }}';
```
</TabItem>
</Tabs>


## `UPDATE` examples

<Tabs
    defaultValue="patch"
    values={[
        { label: 'patch', value: 'patch' }
    ]}
>
<TabItem value="patch">

Update details of a single server.

```sql
UPDATE google.baremetalsolution.instances
SET 
data__name = '{{ name }}',
data__machineType = '{{ machineType }}',
data__hyperthreadingEnabled = {{ hyperthreadingEnabled }},
data__labels = '{{ labels }}',
data__luns = '{{ luns }}',
data__volumes = '{{ volumes }}',
data__osImage = '{{ osImage }}',
data__pod = '{{ pod }}',
data__networkTemplate = '{{ networkTemplate }}',
data__logicalInterfaces = '{{ logicalInterfaces }}',
data__workloadProfile = '{{ workloadProfile }}',
data__sshKeys = '{{ sshKeys }}',
data__kmsKeyVersion = '{{ kmsKeyVersion }}'
WHERE 
projectsId = '{{ projectsId }}' --required
AND locationsId = '{{ locationsId }}' --required
AND instancesId = '{{ instancesId }}' --required
AND updateMask = '{{ updateMask}}'
RETURNING
name,
done,
error,
metadata,
response;
```
</TabItem>
</Tabs>


## Lifecycle Methods

<Tabs
    defaultValue="load_auth_info"
    values={[
        { label: 'load_auth_info', value: 'load_auth_info' },
        { label: 'reimage', value: 'reimage' },
        { label: 'enable_hyperthreading', value: 'enable_hyperthreading' },
        { label: 'disable_hyperthreading', value: 'disable_hyperthreading' },
        { label: 'rename', value: 'rename' },
        { label: 'reset', value: 'reset' },
        { label: 'start', value: 'start' },
        { label: 'stop', value: 'stop' },
        { label: 'enable_interactive_serial_console', value: 'enable_interactive_serial_console' },
        { label: 'disable_interactive_serial_console', value: 'disable_interactive_serial_console' },
        { label: 'detach_lun', value: 'detach_lun' }
    ]}
>
<TabItem value="load_auth_info">

Load auth info for a server.

```sql
EXEC google.baremetalsolution.instances.load_auth_info 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="reimage">

Perform reimage operation on a single server.

```sql
EXEC google.baremetalsolution.instances.reimage 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required 
@@json=
'{
"osImage": "{{ osImage }}", 
"kmsKeyVersion": "{{ kmsKeyVersion }}", 
"sshKeys": "{{ sshKeys }}"
}';
```
</TabItem>
<TabItem value="enable_hyperthreading">

Perform enable hyperthreading operation on a single server.

```sql
EXEC google.baremetalsolution.instances.enable_hyperthreading 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="disable_hyperthreading">

Perform disable hyperthreading operation on a single server.

```sql
EXEC google.baremetalsolution.instances.disable_hyperthreading 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="rename">

RenameInstance sets a new name for an instance. Use with caution, previous names become immediately invalidated.

```sql
EXEC google.baremetalsolution.instances.rename 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required 
@@json=
'{
"newInstanceId": "{{ newInstanceId }}"
}';
```
</TabItem>
<TabItem value="reset">

Perform an ungraceful, hard reset on a server. Equivalent to shutting the power off and then turning it back on.

```sql
EXEC google.baremetalsolution.instances.reset 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="start">

Starts a server that was shutdown.

```sql
EXEC google.baremetalsolution.instances.start 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="stop">

Stop a running server.

```sql
EXEC google.baremetalsolution.instances.stop 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="enable_interactive_serial_console">

Enable the interactive serial console feature on an instance.

```sql
EXEC google.baremetalsolution.instances.enable_interactive_serial_console 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="disable_interactive_serial_console">

Disable the interactive serial console feature on an instance.

```sql
EXEC google.baremetalsolution.instances.disable_interactive_serial_console 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required;
```
</TabItem>
<TabItem value="detach_lun">

Detach LUN from Instance.

```sql
EXEC google.baremetalsolution.instances.detach_lun 
@projectsId='{{ projectsId }}' --required, 
@locationsId='{{ locationsId }}' --required, 
@instancesId='{{ instancesId }}' --required 
@@json=
'{
"lun": "{{ lun }}", 
"skipReboot": {{ skipReboot }}
}';
```
</TabItem>
</Tabs>
